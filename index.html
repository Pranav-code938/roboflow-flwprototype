<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cattle Assessment App - FLW</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üêÑ Cattle Assessment</h1>
            <p>Field Level Worker Tool</p>
        </div>

        <div class="translate-container">
            <div id="google_translate_element"></div>
        </div>

        <div class="main-content">
            <!-- Home Screen -->
            <div id="home" class="screen active">
                <h2>Select Assessment Type</h2>
                <button class="action-button" onclick="goToBreed()">
                    üîç Breed Recognition
                </button>
                <button class="action-button" onclick="goToHealth()">
                    ‚ù§Ô∏è Health Assessment
                </button>
                <button class="action-button" onclick="goToAge()">
                    üìÖ Age Estimation
                </button>
            </div>

            <!-- Breed Recognition Screen -->
            <div id="breed" class="screen">
                <button class="back-button" onclick="goHome()">‚Üê Back</button>
                <h2>Breed Recognition</h2>
                
                <div class="instructions">
                    <h3>Instructions:</h3>
                    <ul>
                        <li>Take a clear side profile photo of the cattle</li>
                        <li>Ensure good lighting</li>
                        <li>Keep the entire animal in frame</li>
                        <li>Avoid shadows and obstructions</li>
                    </ul>
                </div>

                <div class="upload-area" onclick="document.getElementById('breedFileInput').click()">
                    <div>üì∑ Tap to Upload Photo</div>
                    <p>or</p>
                    <button class="camera-button" onclick="openCamera('breed')">Use Camera</button>
                </div>
                
                <input type="file" id="breedFileInput" class="file-input" accept="image/*" onchange="analyzeBreed(this.files[0])">
                
                <div id="breedResult" style="display: none;">
                    <div class="result-card">
                        <h3>Breed Detected:</h3>
                        <div id="breedName" style="font-size: 24px; font-weight: bold; color: #2E7D32;"></div>
                        <div>Confidence:</div>
                        <div class="confidence-bar">
                            <div id="breedConfidence" class="confidence-fill"></div>
                        </div>
                        <div id="breedPercentage"></div>
                    </div>
                </div>
                
                <div id="breedLoading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Analyzing breed...</p>
                </div>
            </div>

            <!-- Health Assessment Screen -->
            <div id="health" class="screen">
                <button class="back-button" onclick="goHome()">‚Üê Back</button>
                <h2>Health Assessment</h2>
                
                <div class="instructions">
                    <h3>Instructions:</h3>
                    <ul>
                        <li>Capture a clear full-body photo</li>
                        <li>Include face and body structure</li>
                        <li>Ensure animal is standing normally</li>
                        <li>Good lighting is essential</li>
                    </ul>
                </div>

                <div class="upload-area" onclick="document.getElementById('healthFileInput').click()">
                    <div>üì∑ Tap to Upload Photo</div>
                    <p>or</p>
                    <button class="camera-button" onclick="openCamera('health')">Use Camera</button>
                </div>
                
                <input type="file" id="healthFileInput" class="file-input" accept="image/*" onchange="analyzeHealth(this.files[0])">
                
                <div id="healthResult" style="display: none;">
                    <div class="result-card">
                        <h3>Health Assessment:</h3>
                        <div class="health-score" id="healthScore"></div>
                        <div id="healthDetails"></div>
                        <div><strong>Body Condition Score:</strong> <span id="bodyCondition"></span></div>
                        <div><strong>Overall Status:</strong> <span id="healthStatus"></span></div>
                    </div>
                </div>
                
                <div id="healthLoading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Analyzing health...</p>
                </div>
            </div>

            <!-- Age Estimation Screen -->
            <div id="age" class="screen">
                <button class="back-button" onclick="goHome()">‚Üê Back</button>
                <h2>Age Estimation</h2>
                
                <div class="instructions">
                    <h3>Instructions:</h3>
                    <ul>
                        <li>Focus on the face and teeth (if visible)</li>
                        <li>Include body structure and size</li>
                        <li>Ensure clear image quality</li>
                        <li>Natural standing position preferred</li>
                    </ul>
                </div>

                <div class="upload-area" onclick="document.getElementById('ageFileInput').click()">
                    <div>üì∑ Tap to Upload Photo</div>
                    <p>or</p>
                    <button class="camera-button" onclick="openCamera('age')">Use Camera</button>
                </div>
                
                <input type="file" id="ageFileInput" class="file-input" accept="image/*" onchange="analyzeAge(this.files[0])">
                
                <div id="ageResult" style="display: none;">
                    <div class="result-card">
                        <h3>Age Estimation:</h3>
                        <div class="age-display" id="estimatedAge"></div>
                        <div><strong>Life Stage:</strong> <span id="lifeStage"></span></div>
                        <div><strong>Estimated Range:</strong> <span id="ageRange"></span></div>
                        <div><strong>Confidence:</strong> <span id="ageConfidence"></span></div>
                    </div>
                </div>
                
                <div id="ageLoading" class="loading" style="display: none;">
                    <div class="spinner"></div>
                    <p>Analyzing age...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
